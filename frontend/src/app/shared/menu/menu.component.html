<a
  (click)="onClick()"
  (mouseover)="open()"
  type="button"
  cdkOverlayOrigin
  #trigger="cdkOverlayOrigin"
  class="dropdown"
  [ngClass]="{ firstLevel: levelMenu === 0, subMenu: levelMenu !== 0 }"
  [ngStyle]="{ color: isOpen ? '#31394D' : '#748aa1' }"
>
  {{ menu.name }}
  <img
    *ngIf="menu.children && menu.children.length > 0 && levelMenu === 0"
    class="arrow"
    [ngClass]="{ rotate: isOpen }"
    src="../../../../../assets/images/down.svg"
  />
</a>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen"
  [cdkConnectedOverlayHasBackdrop]="levelMenu === 0 ? true : false"
  (backdropClick)="onClickedBackdrop()"
  [cdkConnectedOverlayPanelClass]="'panelClass'"
  [cdkConnectedOverlayPositions]="position"
>
  <div class="dropdown-content">
    <app-menu
      *ngFor="let child of menu.children; let i = index"
      [menu]="child"
      (clickedBackdrop)="closeMenu()"
      [levelMenu]="levelMenu + 1"
      (opened)="onOpened(i)"
      [index]="i"
      [openedIndex]="openedIndexChild"
    ></app-menu>
  </div>
</ng-template>
